// LeftMenuExploitant.tsx
import React from 'react';
import { FiHome, FiSettings, FiUsers } from 'react-icons/fi';

import { type VSUserSecurityProfile, VSSecurityTopic } from '~/types/securityprofile';
import { VSMenuTopic } from '~/types/';
interface LeftMenuExploitantProps {
  securityProfile?: VSUserSecurityProfile;
  activecomponent: VSMenuTopic | undefined;
  onSelect: (component: VSMenuTopic) => void;
}

import { LeftMenuItem } from './LeftMenuCommon';
import { userHasRight } from '~/types/utils';
import { userHasRight } from '~/types/utils';

const LeftMenuExploitant: React.FC<LeftMenuExploitantProps> = ({
  securityProfile,
  activecomponent,
  onSelect,
}) => {
  const hasGebruikersDataeigenaarAdmin = userHasRight(securityProfile, VSSecurityTopic.gebruikers_dataeigenaar_admin);
  const hasGebruikersDataeigenaarBeperkt = userHasRight(securityProfile, VSSecurityTopic.gebruikers_dataeigenaar_beperkt);

  const hasGebruikersDataeigenaarAdmin = userHasRight(securityProfile, VSSecurityTopic.gebruikers_dataeigenaar_admin);
  const hasGebruikersDataeigenaarBeperkt = userHasRight(securityProfile, VSSecurityTopic.gebruikers_dataeigenaar_beperkt);

  return (
    <nav
      id="leftMenu"
      className="h-[calc(100vh-64px)] shrink-0 overflow-y-auto border-r border-gray-200 bg-white px-5 py-6"
      aria-label="Hoofdmenu"
    >
      <ul className="space-y-1">
        <LeftMenuItem
          component={VSMenuTopic.Home}
          title={'Home'}
          activecomponent={activecomponent}
          onSelect={onSelect}
          icon={FiHome}
        />
        <LeftMenuItem
          component={VSMenuTopic.SettingsExploitant}
          title={'Instellingen'}
          activecomponent={activecomponent}
          onSelect={onSelect}
          icon={FiSettings}
        />
        {(hasGebruikersDataeigenaarAdmin || hasGebruikersDataeigenaarBeperkt) && (
          <LeftMenuItem
            component={VSMenuTopic.UsersGebruikersbeheerExploitant}
            title={'Gebruikers'}
            activecomponent={activecomponent}
            onSelect={onSelect}
            icon={FiUsers}
          />
        )}
      </ul>
    </nav>
  );
}

export default LeftMenuExploitant;