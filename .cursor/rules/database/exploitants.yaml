version: 1.0
name: Exploitants API

basePath: /api/exploitants

routes:
  - name: List Exploitants
    method: GET
    path: /
    description: Get a list of all exploitants
    parameters:
      - $ref: ../general.yaml#/rules/2/parameters
      - $ref: ../general.yaml#/rules/3/parameters
      - $ref: ../general.yaml#/rules/4/parameters
    responses:
      200:
        description: List of exploitants
        schema:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/definitions/Exploitant'
            meta:
              $ref: ../general.yaml#/rules/5/schema/properties/meta

  - name: Get Exploitant
    method: GET
    path: /{id}
    description: Get a single exploitant by ID
    parameters:
      - name: id
        in: path
        required: true
        type: string
        description: Exploitant ID
    responses:
      200:
        description: Exploitant details
        schema:
          $ref: '#/definitions/Exploitant'
      404:
        description: Exploitant not found

  - name: Create Exploitant
    method: POST
    path: /
    description: Create a new exploitant
    parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/ExploitantInput'
    responses:
      201:
        description: Exploitant created
        schema:
          $ref: '#/definitions/Exploitant'
      400:
        description: Invalid input

  - name: Update Exploitant
    method: PUT
    path: /{id}
    description: Update an existing exploitant
    parameters:
      - name: id
        in: path
        required: true
        type: string
        description: Exploitant ID
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/ExploitantInput'
    responses:
      200:
        description: Exploitant updated
        schema:
          $ref: '#/definitions/Exploitant'
      400:
        description: Invalid input
      404:
        description: Exploitant not found

  - name: Delete Exploitant
    method: DELETE
    path: /{id}
    description: Delete an exploitant
    parameters:
      - name: id
        in: path
        required: true
        type: string
        description: Exploitant ID
    responses:
      204:
        description: Exploitant deleted
      404:
        description: Exploitant not found

definitions:
  Exploitant:
    allOf:
      - $ref: ../contacts.yaml#/definitions/BaseContact
      - type: object
        properties:
          Bankrekeningnr:
            type: string
            description: Bank account number
          PlaatsBank:
            type: string
            description: Bank location
          Tnv:
            type: string
            description: Account holder name
          btwNummer:
            type: string
            description: VAT number
          kvkNummer:
            type: string
            description: Chamber of Commerce number
          Helpdesk:
            type: string
            description: Helpdesk contact information

  ExploitantInput:
    allOf:
      - $ref: ../contacts.yaml#/definitions/BaseContactInput
      - type: object
        properties:
          Bankrekeningnr:
            type: string
            description: Bank account number
          PlaatsBank:
            type: string
            description: Bank location
          Tnv:
            type: string
            description: Account holder name
          btwNummer:
            type: string
            description: VAT number
          kvkNummer:
            type: string
            description: Chamber of Commerce number
          Helpdesk:
            type: string
            description: Helpdesk contact information 