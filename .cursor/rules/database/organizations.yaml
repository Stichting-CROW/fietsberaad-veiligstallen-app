version: 1.0
name: Organizations API

basePath: /api/organizations

routes:
  - name: List Organizations
    method: GET
    path: /
    description: Get a list of all organizations
    parameters:
      - $ref: ../general.yaml#/rules/2/parameters
      - $ref: ../general.yaml#/rules/3/parameters
      - $ref: ../general.yaml#/rules/4/parameters
    responses:
      200:
        description: List of organizations
        schema:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/definitions/Organization'
            meta:
              $ref: ../general.yaml#/rules/5/schema/properties/meta

  - name: Get Organization
    method: GET
    path: /{id}
    description: Get a single organization by ID
    parameters:
      - name: id
        in: path
        required: true
        type: string
        description: Organization ID
    responses:
      200:
        description: Organization details
        schema:
          $ref: '#/definitions/Organization'
      404:
        description: Organization not found

  - name: Create Organization
    method: POST
    path: /
    description: Create a new organization
    parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/OrganizationInput'
    responses:
      201:
        description: Organization created
        schema:
          $ref: '#/definitions/Organization'
      400:
        description: Invalid input

  - name: Update Organization
    method: PUT
    path: /{id}
    description: Update an existing organization
    parameters:
      - name: id
        in: path
        required: true
        type: string
        description: Organization ID
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/OrganizationInput'
    responses:
      200:
        description: Organization updated
        schema:
          $ref: '#/definitions/Organization'
      400:
        description: Invalid input
      404:
        description: Organization not found

  - name: Delete Organization
    method: DELETE
    path: /{id}
    description: Delete an organization
    parameters:
      - name: id
        in: path
        required: true
        type: string
        description: Organization ID
    responses:
      204:
        description: Organization deleted
      404:
        description: Organization not found

definitions:
  Organization:
    allOf:
      - $ref: ../contacts.yaml#/definitions/BaseContact
      - type: object
        properties:
          Department:
            type: string
            description: Department name
          JobTitle:
            type: string
            description: Job title
          URL:
            type: string
            description: Website URL
          Notes:
            type: string
            description: Additional notes

  OrganizationInput:
    allOf:
      - $ref: ../contacts.yaml#/definitions/BaseContactInput
      - type: object
        properties:
          Department:
            type: string
            description: Department name
          JobTitle:
            type: string
            description: Job title
          URL:
            type: string
            description: Website URL
          Notes:
            type: string
            description: Additional notes 